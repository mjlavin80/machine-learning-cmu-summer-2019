This week a federal judge in San Francisco halted nationwide enforcement of President Trump’s executive order that threatened to withhold federal funds to sanctuary cities. As a conservative who teaches and practices constitutional law, I applaud the decision as a victory for the Constitution’s separation of powers. In our federalist system, federal and state governments possess their own spheres of power. Consequently, in cases such as New York v. United States and Printz v. United States, the Supreme Court has made clear that states cannot be conscripted to carry out federal law. If the federal government wants to enforce federal immigration law, it must do so itself. The constitutional deficiency of President Trump’s executive order was not federalism, however, but the division of power between the president and Congress. Specifically, at issue is the president’s authority to impose punishment for noncompliance with a federal statute, Section 1373 of Title VIII of the United States Code, which declares that states and municipalities may not prohibit their employees from sharing a person’s immigration status with the United States Immigration and Naturalization Service (I.N.S.). Section 1373, in other words, proclaims that jurisdictions may not prohibit their officials — for instance, police officers — from informing I.N.S. that they have detained an undocumented immigrant. President Trump’s executive order accordingly declared that any jurisdiction willfully failing to comply with Section 1373 is “not eligible to receive federal grants.” The prohibition against state conscription does not prevent Congress from passing information-sharing statutes such as Section 1373. In Reno v. Condon, the Supreme Court upheld a federal law, the Driver’s Privacy Protection Act, which requires states to share with the federal government certain information regarding driver’s license holders. The court concluded that merely sharing existing information with the federal government was not tantamount to making states enforce federal law. Indeed, Congress has passed several information-sharing statutes, including the National Child Search Assistance Act, which requires state and local law enforcement to share information with the federal government about missing and abducted children. The policies of California’s Santa Clara County and City of San Francisco, both sanctuary jurisdictons, prohibit the use of county or city funds to transmit information or assist in the enforcement of federal immigration law. These policies do not directly prohibit sharing immigration status information with the I.N.S., but they necessarily imply that any employee wishing to share such information must do so on their own time, without using city or county resources. As the federal trial judge recognized, “a broad reading of these policies may be considered an improper restriction on the intergovernmental exchange of information in violation of Section 1373.” Although many sanctuary policies may, therefore, violate federal law, this does not give the president power to withhold funds as a punishment. Section 1373 specifies no punishment for noncompliance: It is a toothless tiger, passed by a Congress more intent on winning political points than punishing sanctuary cities. The ability to withhold federal funds for noncompliance with a federal statute is a power that the Constitution gives solely to Congress. As part of its constitutional “spending power,” Congress may attach conditions on the receipt of federal funds, provided it abides by certain rules elaborated by the Supreme Court in South Dakota v. Dole. First, if Congress wants to place conditions on states’ receipt of federal funds, it must do so “unambiguously,” enabling states to make a knowing decision, cognizant of the consequences of their choice to accept federal funds. While the United States Department of Justice, in the waning days of the Obama administration, notified recipients of two federal law enforcement grants that the grants were conditioned on compliance with Section 1373, this notification was not imposed by Congress. An executive branch guidance document cannot substitute, constitutionally, for an unambiguous condition imposed by Congress. Second, there must be a reasonable relationship between the condition imposed and the federal purpose for spending the money. In South Dakota, for example, the court upheld a federal law that withheld 10 percent of federal highway funds if states refused to raise their drinking age to 21. The court found a reasonable relationship, since “one of the main purposes” for highway funds is “safe interstate travel,” and raising the drinking age could conceivably further this goal. Congress likewise could condition the receipt of law-enforcement-related grants on compliance with Section 1373, but it has not yet done so. Because one purpose law enforcement grants is the improvement of the safety of campuses and communities, Congress could conclude that sharing information about detained, undocumented immigrants could improve safety in those places, meeting the reasonable relationship requirement. While some argue that sharing information with the I.N.S. will decrease the safety of communities by discouraging undocumented immigrants from reporting crimes, Congress is not required constitutionally to resolve this broader debate. A closer constitutional call, however, is whether Congress could withhold other federal grants, unrelated to law enforcement. It seems doubtful, for example, that conditioning receipt of Medicaid funds on compliance with Section 1373 would pass constitutional muster, since Medicaid funds are expended to improve individual health rather than broader community safety. If Congress wanted to withhold funds beyond law enforcement grants, therefore, it should lay the groundwork for such a logical connection with Section 1373. The constitutional power to attach strings to federal funds belongs to Congress, not the president. If Congress wants to withhold federal grants from sanctuary cities that violate Section 1373, it may do so within certain limits established by the Supreme Court. Now that President Trump’s executive order has been enjoined, the next — and only constitutionally sustainable — move is up to Congress.